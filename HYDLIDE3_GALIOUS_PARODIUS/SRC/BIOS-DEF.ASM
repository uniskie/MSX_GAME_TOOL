;BIOS LABELS for GAME UTILS

;******************************
; I/O port
;******************************
VDP:	EQU	98H

KEYIO:	EQU	0A9H
KEYIO0:	EQU	KEYIO+0
KEYIO1:	EQU	KEYIO+1

PSGIO:	EQU	0A0H
PSGIOA:	EQU	PSGIO+0
PSGIOW:	EQU	PSGIO+1
PSGIOR:	EQU	PSGIO+2

RAMSG0:	EQU	0FCH	;default=3
RAMSG1:	EQU	0FDH	;default=2
RAMSG2:	EQU	0FEH	;default=1
RAMSG3:	EQU	0FFH	;default=0

;******************************
; BDOS
;******************************
SYSCAL:	EQU	0F37DH

;******************************
; BIOS CONSTANTS
;******************************
MSXSIG:	EQU	002DH	;MSX ROM VERSION (MSX1=0,MSX2=1,...)

;******************************
; BIOS ENTRY
;******************************
;CPU
CHGCPU:	EQU	0180H
GETCPU:	EQU	0183H

;GENERAL PORT
CHGCAP:	EQU	0132H	;CAP ランプの状態を変える
CHGSND:	EQU	0135H	;1ビットサウンドポート

;INTER SLOT
RDSLT:	EQU	000CH	;指定スロットの指定アドレスから値を読む
WRLST:	EQU	0014H	;指定スロットの指定アドレスに値を書き込む
CALSLT:	EQU	001CH	;指定したスロットの指定アドレスをコールする
ENASLT:	EQU	0024H	;スロットを切り換える 
RSLREG:	EQU	0138H	;基本スロット選択レジスタの読み出し
WSLREG:	EQU	013BH	;基本スロット選択レジスタへの書き込み
CALLF:	EQU	0030H	;指定スロットの指定アドレスをコールする RST 30H

; TIMER INTERRUPT VECTOR
KEYINT:	EQU	0038H	;TIMER

; VRAM ACCESS
WRTVRM:	EQU	004DH	;HL=VRAM ADDRESS(14bit),
SETWRT:	EQU	0053H	;HL=VRAM ADDRESS(14bit), A=DATA
FILVRM:	EQU	0056H	;HL=VRAM ADDRESS(14bit), BC=SIZE, A=DATA
RDVDP:	EQU	013EH

NSTWRT:	EQU	0171H	;HL=VRAM ADDRESS(16bit),
NWRVRM:	EQU	0177H	;HL=VRAM ADDRESS(16bit), A=DATA
BIGFIL:	EQU	016BH	;HL=VRAM ADDRESS(16bit), BC=SIZE, A=DATA

;******************************
; BIOS WORK AREA
;******************************
;MEMORY BLOCK
HIMEM:	EQU	0FC4AH	;BASIC FREE AREA
BLDCHK:	EQU	0F377H	;DISK WORK AREA HEAD

;MATH-PACK/USER関数
VALTYP:	EQU	0FF63H
DACINT:	EQU	0F7F8H

;FONT
CGPNT:	EQU	0F91FH	;(1) ROM FONT SLOT
BASFNT:	EQU	CGPNT+1	;(2) ROM FONT ADDRESS

;SLOT INFO
EXPTBL:	EQU	0FCC1H
EXPTB1:	EQU	EXPTBL+1
EXPTB2:	EQU	EXPTBL+2
EXPTB3:	EQU	EXPTBL+3
RAMPG0:	EQU	0F341H
RAMPG1:	EQU	0F342H
RAMPG2:	EQU	0F343H
RAMPG3:	EQU	0F344H

;CAPS
CAPST:	EQU	0FCABH	;[CAPS]キーの状態

;VDP
REG0SV:		EQU	0F3DFH	;VDP REG#0-#7
RG8SAV:		EQU	0FFE7H	;VDP REG#8-#23
RG18SAV:	EQU	RG8SAV+18-8 ;SET ADJUST
RG19SAV:	EQU	RG8SAV+19-8
RG23SAV:	EQU	RG8SAV+23-8
RG25SAV:	EQU	0FFF8H	;VDP REG#25-#27

;TIMER HOOK
H_KEYI:	EQU	0FD9AH
H_TIMI:	EQU	0FD9FH

;******************************
; BIOS WORK AREA
; for Temporary use
;******************************
; BASIC TOKEN
BUF:	EQU	0F55EH+1	;0F55EH,258

;PLAY/DRAW(BASIC)
;	NG:MCLTAB:	EQU	0F956H	;2  
;	NG:MCLFLG:	EQU	0F958H	;1  
;	NG:QUETAB:	EQU	0F959H	;24 	安全ではない
;	NG:QUEBAK:	EQU	0F971H	;4  

VOICAQ:	EQU	0F975H	;128	PLAY/DRAWを使わなければ安全
VOICBQ:	EQU	0F9F5H	;128
VOICCQ:	EQU	0FA75H	;128
VOICQM:	EQU	VOICCQ+128	;0FAF5H ... LIMIT
VOICQS:	EQU	128+128+128	;VOICAQ-VOICCQ SIZE

;PLAY(BASIC)
SAVSP:	EQU	0FB36H	;2	PLAY文実行中にスタックポインタを保存
VCBA:	EQU	0FB41H	;37
VCBB:	EQU	0FB66H	;37
VCBC:	EQU	0FB8BH	;37
VCBSZ:	EQU	37+37+37	;VCBA-VCBC SIZE(DAT+STACK)
